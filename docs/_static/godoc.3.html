<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>pkerr - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="style.css">

<script>window.initFuncs = [];</script>
<script src="jquery.js" defer></script>



<script>var goVersion = "go1.15";</script>
<script src="godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6161/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6161/pkg/">GoDoc</a></div>
<a href="godoc.3.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6161/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package pkerr
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/peake100/gRPEAKEC-go/pkerr"</code></dd>
			</dl>
			<dl>
			<dd><a href="godoc.3.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="godoc.3.html#pkg-index" class="indexLink">Index</a></dd>
			
				<dd><a href="godoc.3.html#pkg-examples" class="examplesLink">Examples</a></dd>
			
			
				<dd><a href="godoc.3.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Easy-to-use rich errors between services and clients.
</p>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="godoc.3.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="godoc.3.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="godoc.3.html#CatchPanic">func CatchPanic(run func() error) (err error)</a></dd>
			
				
				<dd><a href="godoc.3.html#NewErrNotFoundMiddleware">func NewErrNotFoundMiddleware(errGen *ErrorGenerator) pkmiddleware.UnaryServerMiddleware</a></dd>
			
				
				<dd><a href="godoc.3.html#ReissueDefaultSentinels">func ReissueDefaultSentinels(issuer string, offset int)</a></dd>
			
			
				
				<dd><a href="godoc.3.html#APIError">type APIError</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#APIError.Error">func (err APIError) Error() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#APIError.Is">func (err APIError) Is(target error) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#APIError.Unwrap">func (err APIError) Unwrap() error</a></dd>
				
			
				
				<dd><a href="godoc.3.html#Error">type Error</a></dd>
				
				
			
				
				<dd><a href="godoc.3.html#ErrorGenerator">type ErrorGenerator</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#NewErrGenerator">func NewErrGenerator(appName string, addHost bool, addStackTrace bool, sendContext bool, sendSource bool) *ErrorGenerator</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#ErrorGenerator.NewErr">func (gen *ErrorGenerator) NewErr(sentinel *SentinelError, message string, details []proto.Message, source error) (apiErr error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#ErrorGenerator.StreamClientMiddleware">func (gen *ErrorGenerator) StreamClientMiddleware(next pkmiddleware.StreamClientHandler) pkmiddleware.StreamClientHandler</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#ErrorGenerator.StreamServerMiddleware">func (gen *ErrorGenerator) StreamServerMiddleware(next pkmiddleware.StreamServerHandler) pkmiddleware.StreamServerHandler</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#ErrorGenerator.UnaryClientMiddleware">func (gen *ErrorGenerator) UnaryClientMiddleware(next pkmiddleware.UnaryClientHandler) pkmiddleware.UnaryClientHandler</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#ErrorGenerator.UnaryServerMiddleware">func (gen *ErrorGenerator) UnaryServerMiddleware(next pkmiddleware.UnaryServerHandler) pkmiddleware.UnaryServerHandler</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#ErrorGenerator.WithAppName">func (gen ErrorGenerator) WithAppName(appName string) *ErrorGenerator</a></dd>
				
			
				
				<dd><a href="godoc.3.html#GrpcCodeErr">type GrpcCodeErr</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#GrpcCodeErr.Error">func (code GrpcCodeErr) Error() string</a></dd>
				
			
				
				<dd><a href="godoc.3.html#PanicError">type PanicError</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#PanicError.Error">func (err PanicError) Error() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#PanicError.Unwrap">func (err PanicError) Unwrap() error</a></dd>
				
			
				
				<dd><a href="godoc.3.html#SentinelError">type SentinelError</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#SentinelError.As">func (code *SentinelError) As(target interface{}) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#SentinelError.Error">func (code *SentinelError) Error() string</a></dd>
				
			
				
				<dd><a href="godoc.3.html#SentinelIssuer">type SentinelIssuer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#NewSentinelIssuer">func NewSentinelIssuer(issuer string, applyEnvSettings bool) *SentinelIssuer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#SentinelIssuer.ApplyNewIssuer">func (sentinels *SentinelIssuer) ApplyNewIssuer(issuer string, offset int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.3.html#SentinelIssuer.NewSentinel">func (sentinels *SentinelIssuer) NewSentinel(name string, code uint32, grpcCode codes.Code, defaultMessage string) *SentinelError</a></dd>
				
			
				
				<dd><a href="godoc.3.html#TraceInfo">type TraceInfo</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		
		<div id="pkg-examples">
			<h3>Examples</h3>
			<div class="js-expandAll expandAll collapsed">(Expand All)</div>
			<dl>
			
			<dd><a class="exampleLink" href="godoc.3.html#example_NewErrGenerator">NewErrGenerator</a></dd>
			
			</dl>
		</div>
		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go">apiError.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/doc.go">doc.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generator.go">generator.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generatorMiddleware.go">generatorMiddleware.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/handlePanic.go">handlePanic.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/notFoundMiddleware.go">notFoundMiddleware.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/protogenAliases.go">protogenAliases.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelErr.go">sentinelErr.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelErrDefaults.go">sentinelErrDefaults.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelIssuer.go">sentinelIssuer.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const <span id="DefaultsIssuer">DefaultsIssuer</span> = &#34;GRPEAKEC&#34;</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>
ErrAlreadyExists is the default error for requesting a resource that already exists.
</p>

				<pre>var <span id="ErrAlreadyExists">ErrAlreadyExists</span> = sentinelIssuer.<a href="godoc.3.html#NewSentinel">NewSentinel</a>(
    &#34;AlreadyExists&#34;,
    1002,
    <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#AlreadyExists">AlreadyExists</a>,
    &#34;resource already exists&#34;,
)</pre>
			
				<p>
ErrNotFound is the default error for requesting a resource that does not exist.
</p>

				<pre>var <span id="ErrNotFound">ErrNotFound</span> = sentinelIssuer.<a href="godoc.3.html#NewSentinel">NewSentinel</a>(
    &#34;ResourceExists&#34;,
    1001,
    <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#NotFound">NotFound</a>,
    &#34;requested resource not found&#34;,
)</pre>
			
				<p>
ErrUnknown is the default fallback error that is returned from a server interceptor
when an incoming error is not an APIError, *Error, or SentinelError value.
</p>

				<pre>var <span id="ErrUnknown">ErrUnknown</span> = sentinelIssuer.<a href="godoc.3.html#NewSentinel">NewSentinel</a>(
    &#34;Unknown&#34;,
    1000,
    <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#Unknown">Unknown</a>,
    &#34;an unknown error occurred&#34;,
)</pre>
			
				<p>
ErrValidation should be returned when a request fails validation.
</p>

				<pre>var <span id="ErrValidation">ErrValidation</span> = sentinelIssuer.<a href="godoc.3.html#NewSentinel">NewSentinel</a>(
    &#34;Validation&#34;,
    1003,
    <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#InvalidArgument">InvalidArgument</a>,
    &#34;client argument failed validation&#34;,
)</pre>
			
		
		
			
			
			<h2 id="CatchPanic">func <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/handlePanic.go?s=1234:1279#L31">CatchPanic</a>
				<a class="permalink" href="godoc.3.html#CatchPanic">&#xb6;</a>
				
				
			</h2>
			<pre>func CatchPanic(run func() <a href="http://localhost:6161/pkg/builtin/#error">error</a>) (err <a href="http://localhost:6161/pkg/builtin/#error">error</a>)</pre>
			<p>
CatchPanic takes in a function with an error return, catches any panics that occur,
and converts them to PanicError. Returned errors are passed up as-is.
</p>

			
			

		
			
			
			<h2 id="NewErrNotFoundMiddleware">func <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/notFoundMiddleware.go?s=356:448#L5">NewErrNotFoundMiddleware</a>
				<a class="permalink" href="godoc.3.html#NewErrNotFoundMiddleware">&#xb6;</a>
				
				
			</h2>
			<pre>func NewErrNotFoundMiddleware(
    errGen *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>,
) <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#UnaryServerMiddleware">UnaryServerMiddleware</a></pre>
			<p>
NewErrNotFoundMiddleware returns ErrNotFound on any unary calls that return both a
nil response and a nil error.
</p>
<p>
By using a generator we assure that any included stacktrace points back to this
middleware definitively.
</p>

			
			

		
			
			
			<h2 id="ReissueDefaultSentinels">func <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelErrDefaults.go?s=1289:1344#L38">ReissueDefaultSentinels</a>
				<a class="permalink" href="godoc.3.html#ReissueDefaultSentinels">&#xb6;</a>
				
				
			</h2>
			<pre>func ReissueDefaultSentinels(issuer <a href="http://localhost:6161/pkg/builtin/#string">string</a>, offset <a href="http://localhost:6161/pkg/builtin/#int">int</a>)</pre>
			<p>
ReissueDefaultSentinels applies the issuer and offset to all the default
SentinelError values found in this package, such as ErrUnknown.
</p>

			
			

		
		
			
			
			<h2 id="APIError">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go?s=756:838#L17">APIError</a>
				<a class="permalink" href="godoc.3.html#APIError">&#xb6;</a>
				
				
			</h2>
			<p>
APIError holds the protobuf *Error and adds some runtime context to it. In general,
callers should not be working directly with the *Error type, and should be using
APIError instead.
</p>

			<pre>type APIError struct {
<span id="APIError.Proto"></span>    Proto    *<a href="godoc.3.html#Error">Error</a>
<span id="APIError.Sentinel"></span>    Sentinel *<a href="godoc.3.html#SentinelError">SentinelError</a>
<span id="APIError.Source"></span>    Source   <a href="http://localhost:6161/pkg/builtin/#error">error</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="APIError.Error">func (APIError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go?s=875:909#L24">Error</a>
					<a class="permalink" href="godoc.3.html#APIError.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.3.html#APIError">APIError</a>) Error() <a href="http://localhost:6161/pkg/builtin/#string">string</a></pre>
				<p>
Error implements builtins.error
</p>

				
				
				
			
				
				<h3 id="APIError.Is">func (APIError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go?s=1235:1276#L39">Is</a>
					<a class="permalink" href="godoc.3.html#APIError.Is">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.3.html#APIError">APIError</a>) Is(target <a href="http://localhost:6161/pkg/builtin/#error">error</a>) <a href="http://localhost:6161/pkg/builtin/#bool">bool</a></pre>
				<p>
Is allows comparison to APIError, SentinelError and *Error values through
errors.Is().
</p>

				
				
				
			
				
				<h3 id="APIError.Unwrap">func (APIError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go?s=1083:1117#L33">Unwrap</a>
					<a class="permalink" href="godoc.3.html#APIError.Unwrap">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.3.html#APIError">APIError</a>) Unwrap() <a href="http://localhost:6161/pkg/builtin/#error">error</a></pre>
				<p>
Unwrap implements xerrors.Wrapper
</p>

				
				
				
			
		
			
			
			<h2 id="Error">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/protogenAliases.go?s=117:144#L1">Error</a>
				<a class="permalink" href="godoc.3.html#Error">&#xb6;</a>
				
				
			</h2>
			<p>
Error is an type alias of protogen.Error.
</p>

			<pre>type Error = <a href="godoc.7.html">protogen</a>.<a href="godoc.7.html#Error">Error</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ErrorGenerator">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generator.go?s=132:538#L1">ErrorGenerator</a>
				<a class="permalink" href="godoc.3.html#ErrorGenerator">&#xb6;</a>
				
				
			</h2>
			<p>
ErrorGenerator generates errors with app-specific settings.
</p>

			<pre>type ErrorGenerator struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewErrGenerator">func <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generator.go?s=2205:2334#L69">NewErrGenerator</a>
					<a class="permalink" href="godoc.3.html#NewErrGenerator">&#xb6;</a>
					
					
				</h3>
				<pre>func NewErrGenerator(
    appName <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    addHost <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    addStackTrace <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    sendContext <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    sendSource <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
) *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a></pre>
				<p>
Creates a new Error generator.
</p>
<p>
appName and hostName are both applied to *TraceInfo frames added through this
generator&#39;s grpc client interceptors as well as the initial frame from
ErrorGenerator.NewErr.
</p>
<p>
addStackTrace will cause a full debug stacktrace to be added when a *TraceInfo value
is created by this generator.
</p>

				<div id="example_NewErrGenerator" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		
		
		
			<p>Code:</p>
			<pre class="code">
<span class="comment">// This error generator can be used to create sentinels and errors on the client</span>
<span class="comment">// side.</span>
_ = pkerr.NewErrGenerator(
    &#34;PingServer&#34;, <span class="comment">// appName</span>
    true,         <span class="comment">// addHost</span>
    true,         <span class="comment">// addStackTrace</span>
    true,         <span class="comment">// sendContext</span>
    true,         <span class="comment">// sendSource</span>
)
</pre>
			
		
	</div>
</div>

				
			

			
				
				<h3 id="ErrorGenerator.NewErr">func (*ErrorGenerator) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generator.go?s=1607:1742#L48">NewErr</a>
					<a class="permalink" href="godoc.3.html#ErrorGenerator.NewErr">&#xb6;</a>
					
					
				</h3>
				<pre>func (gen *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>) NewErr(
    sentinel *<a href="godoc.3.html#SentinelError">SentinelError</a>,
    message <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    details []<a href="http://localhost:6161/pkg/google.golang.org/protobuf/proto/">proto</a>.<a href="http://localhost:6161/pkg/google.golang.org/protobuf/proto/#Message">Message</a>,
    source <a href="http://localhost:6161/pkg/builtin/#error">error</a>,
) (apiErr <a href="http://localhost:6161/pkg/builtin/#error">error</a>)</pre>
				<p>
NewErr creates a new error with the code, name, issuer, and grpc status code of
sentinel.
</p>

				
				
				
			
				
				<h3 id="ErrorGenerator.StreamClientMiddleware">func (*ErrorGenerator) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generatorMiddleware.go?s=3619:3744#L113">StreamClientMiddleware</a>
					<a class="permalink" href="godoc.3.html#ErrorGenerator.StreamClientMiddleware">&#xb6;</a>
					
					
				</h3>
				<pre>func (gen *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>) StreamClientMiddleware(
    next <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#StreamClientHandler">StreamClientHandler</a>,
) <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#StreamClientHandler">StreamClientHandler</a></pre>
				<p>
StreamClientMiddleware implements pkmiddleware.StreamClientMiddleware and
converts incoming errors to an APIError if the error contains an *Error detail, and a
new *TraceInfo frame will be added.
</p>
<p>
*Error values are generated using the settings of ErrorGenerator.
</p>

				
				
				
			
				
				<h3 id="ErrorGenerator.StreamServerMiddleware">func (*ErrorGenerator) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generatorMiddleware.go?s=7120:7245#L235">StreamServerMiddleware</a>
					<a class="permalink" href="godoc.3.html#ErrorGenerator.StreamServerMiddleware">&#xb6;</a>
					
					
				</h3>
				<pre>func (gen *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>) StreamServerMiddleware(
    next <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#StreamServerHandler">StreamServerHandler</a>,
) <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#StreamServerHandler">StreamServerHandler</a></pre>
				<p>
StreamServerMiddleware implements pkmiddleware.StreamServerMiddleware that can handle
wrapping all errors and panics in an APIError and transforming them into a
status.Status.
</p>

				
				
				
			
				
				<h3 id="ErrorGenerator.UnaryClientMiddleware">func (*ErrorGenerator) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generatorMiddleware.go?s=2505:2627#L77">UnaryClientMiddleware</a>
					<a class="permalink" href="godoc.3.html#ErrorGenerator.UnaryClientMiddleware">&#xb6;</a>
					
					
				</h3>
				<pre>func (gen *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>) UnaryClientMiddleware(
    next <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#UnaryClientHandler">UnaryClientHandler</a>,
) <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#UnaryClientHandler">UnaryClientHandler</a></pre>
				<p>
UnaryClientMiddleware implements pkmiddleware.UnaryClientMiddleware and handles
decoding an *Error detail as an APIError.
</p>
<p>
If an *Error detail message is found in the status of an error return, the message
will be extracted into an APIError, and a new *TraceInfo frame will be added.
</p>
<p>
*Error values are generated using the settings of ErrorGenerator.
</p>

				
				
				
			
				
				<h3 id="ErrorGenerator.UnaryServerMiddleware">func (*ErrorGenerator) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generatorMiddleware.go?s=6396:6518#L206">UnaryServerMiddleware</a>
					<a class="permalink" href="godoc.3.html#ErrorGenerator.UnaryServerMiddleware">&#xb6;</a>
					
					
				</h3>
				<pre>func (gen *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>) UnaryServerMiddleware(
    next <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#UnaryServerHandler">UnaryServerHandler</a>,
) <a href="godoc.8.html">pkmiddleware</a>.<a href="godoc.8.html#UnaryServerHandler">UnaryServerHandler</a></pre>
				<p>
NewUnaryServerInterceptor implements pkmiddleware.UnaryServerMiddleware that can
handle wrapping all errors and panics in an APIError and transforming them into a
status.Status.
</p>

				
				
				
			
				
				<h3 id="ErrorGenerator.WithAppName">func (ErrorGenerator) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/generator.go?s=843:912#L17">WithAppName</a>
					<a class="permalink" href="godoc.3.html#ErrorGenerator.WithAppName">&#xb6;</a>
					
					
				</h3>
				<pre>func (gen <a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a>) WithAppName(appName <a href="http://localhost:6161/pkg/builtin/#string">string</a>) *<a href="godoc.3.html#ErrorGenerator">ErrorGenerator</a></pre>
				<p>
WithAppName returns a copy of the ErrorGenerator with the appName setting replaced.
</p>

				
				
				
			
		
			
			
			<h2 id="GrpcCodeErr">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go?s=422:449#L7">GrpcCodeErr</a>
				<a class="permalink" href="godoc.3.html#GrpcCodeErr">&#xb6;</a>
				
				
			</h2>
			<p>
GrpcCodeErr can be used to wrap codes.Code when checking if an APIError is from a
specific codes.Code using errors.Is.
</p>

			<pre>type GrpcCodeErr <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#Code">Code</a></pre>

			

			

			
			
			

			

			
				
				<h3 id="GrpcCodeErr.Error">func (GrpcCodeErr) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/apiError.go?s=487:525#L10">Error</a>
					<a class="permalink" href="godoc.3.html#GrpcCodeErr.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (code <a href="godoc.3.html#GrpcCodeErr">GrpcCodeErr</a>) Error() <a href="http://localhost:6161/pkg/builtin/#string">string</a></pre>
				<p>
Error implements builtins.error.
</p>

				
				
				
			
		
			
			
			<h2 id="PanicError">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/handlePanic.go?s=86:281#L1">PanicError</a>
				<a class="permalink" href="godoc.3.html#PanicError">&#xb6;</a>
				
				
			</h2>
			<p>
PanicError wraps a recover() panic value as an error.
</p>

			<pre>type PanicError struct {
    <span class="comment">// Source is the recovered error. If the value from recover() is not an error type</span>
    <span class="comment">// it will be coerce into an error string with format: &#34;%+v&#34;</span>
<span id="PanicError.Recovered"></span>    Recovered interface{}
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="PanicError.Error">func (PanicError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/handlePanic.go?s=319:355#L3">Error</a>
					<a class="permalink" href="godoc.3.html#PanicError.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.3.html#PanicError">PanicError</a>) Error() <a href="http://localhost:6161/pkg/builtin/#string">string</a></pre>
				<p>
Error implements builtins.error.
</p>

				
				
				
			
				
				<h3 id="PanicError.Unwrap">func (PanicError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/handlePanic.go?s=573:609#L9">Unwrap</a>
					<a class="permalink" href="godoc.3.html#PanicError.Unwrap">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.3.html#PanicError">PanicError</a>) Unwrap() <a href="http://localhost:6161/pkg/builtin/#error">error</a></pre>
				<p>
Unwrap implements xerrors.Wrapper. If the underlying Recovered value is an error,
it will be returned, otherwise an error-string will be returned.
</p>

				
				
				
			
		
			
			
			<h2 id="SentinelError">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelErr.go?s=373:1204#L5">SentinelError</a>
				<a class="permalink" href="godoc.3.html#SentinelError">&#xb6;</a>
				
				
			</h2>
			<p>
SentinelError is used for creating sentinel errors within the go implementation of a
backend for given Error codes for quick errors.Is() checking.
</p>
<p>
Issuer &#34;&#34;, API coded 1000-1999 are reserved by grpcErr for creating a set of default
error codes.
</p>
<p>
The base code for unknown error is 1000.
</p>

			<pre>type SentinelError struct {
<span id="SentinelError.Issuer"></span>    <span class="comment">// Issuer is the issuer of a code. If multiple services use this library, they</span>
    <span class="comment">// can differentiate their error codes by having unique issuers. If a number of</span>
    <span class="comment">// services working together in the same backend coordinate to ensure their error</span>
    <span class="comment">// definitions do not overlap, they can share an Issuer value.</span>
    Issuer <a href="http://localhost:6161/pkg/builtin/#string">string</a>
    <span class="comment">// The error code that defines this error.</span>
<span id="SentinelError.Code"></span>    Code <a href="http://localhost:6161/pkg/builtin/#uint32">uint32</a>
    <span class="comment">// Human-readable name tied to the error Code.</span>
<span id="SentinelError.Name"></span>    Name <a href="http://localhost:6161/pkg/builtin/#string">string</a>
<span id="SentinelError.GrpcCode"></span>    <span class="comment">// GrpcCode is the status.Status.Code that grpc servers should set when reporting</span>
    <span class="comment">// this error.</span>
    GrpcCode <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#Code">Code</a>
    <span class="comment">// The default message to be returned by the sentinel version of this def.</span>
<span id="SentinelError.DefaultMessage"></span>    DefaultMessage <a href="http://localhost:6161/pkg/builtin/#string">string</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="SentinelError.As">func (*SentinelError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelErr.go?s=1452:1506#L34">As</a>
					<a class="permalink" href="godoc.3.html#SentinelError.As">&#xb6;</a>
					
					
				</h3>
				<pre>func (code *<a href="godoc.3.html#SentinelError">SentinelError</a>) As(target interface{}) <a href="http://localhost:6161/pkg/builtin/#bool">bool</a></pre>
				<p>
As allows extracting a wrapped SentinelError as an APIError.
</p>

				
				
				
			
				
				<h3 id="SentinelError.Error">func (*SentinelError) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelErr.go?s=1241:1282#L27">Error</a>
					<a class="permalink" href="godoc.3.html#SentinelError.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (code *<a href="godoc.3.html#SentinelError">SentinelError</a>) Error() <a href="http://localhost:6161/pkg/builtin/#string">string</a></pre>
				<p>
Error implements builtins.error
</p>

				
				
				
			
		
			
			
			<h2 id="SentinelIssuer">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelIssuer.go?s=135:517#L2">SentinelIssuer</a>
				<a class="permalink" href="godoc.3.html#SentinelIssuer">&#xb6;</a>
				
				
			</h2>
			<p>
SentinelIssuer issues new sentinel errors
</p>

			<pre>type SentinelIssuer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewSentinelIssuer">func <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelIssuer.go?s=4113:4189#L120">NewSentinelIssuer</a>
					<a class="permalink" href="godoc.3.html#NewSentinelIssuer">&#xb6;</a>
					
					
				</h3>
				<pre>func NewSentinelIssuer(issuer <a href="http://localhost:6161/pkg/builtin/#string">string</a>, applyEnvSettings <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>) *<a href="godoc.3.html#SentinelIssuer">SentinelIssuer</a></pre>
				<p>
NewSentinelIssuer returns a new *SentinelIssuer.
</p>
<p>
issuer is the value to use for all *SentinelError values created with
ErrorGenerator.NewSentinel.
</p>
<p>
applyEnvSettings loads issuer and code offset information from environmental
variables and applies them to the generator, using the current settings as default
if no env var is found.
</p>
<p>
The environmental variables are the following:
</p>
<p>
- [AppName]_ERROR_ISSUER
- [AppName]_ERROR_CODE_OFFSET
</p>
<p>
By having these settings configurable as environmental variables, two generic
services that both use this error library can be merged into a single backend, and
appear more uniform to a caller by having the same issuer.
</p>
<p>
The code offset ensures that error codes can be shifted so they do not collide when
two generic services are used in the same backend.
</p>

				
				
			

			
				
				<h3 id="SentinelIssuer.ApplyNewIssuer">func (*SentinelIssuer) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelIssuer.go?s=1328:1402#L41">ApplyNewIssuer</a>
					<a class="permalink" href="godoc.3.html#SentinelIssuer.ApplyNewIssuer">&#xb6;</a>
					
					
				</h3>
				<pre>func (sentinels *<a href="godoc.3.html#SentinelIssuer">SentinelIssuer</a>) ApplyNewIssuer(issuer <a href="http://localhost:6161/pkg/builtin/#string">string</a>, offset <a href="http://localhost:6161/pkg/builtin/#int">int</a>)</pre>
				<p>
ApplyNewIssuer rewrites all issued sentinels to have the given issuer and offset.
</p>

				
				
				
			
				
				<h3 id="SentinelIssuer.NewSentinel">func (*SentinelIssuer) <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/sentinelIssuer.go?s=625:761#L16">NewSentinel</a>
					<a class="permalink" href="godoc.3.html#SentinelIssuer.NewSentinel">&#xb6;</a>
					
					
				</h3>
				<pre>func (sentinels *<a href="godoc.3.html#SentinelIssuer">SentinelIssuer</a>) NewSentinel(
    name <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    code <a href="http://localhost:6161/pkg/builtin/#uint32">uint32</a>,
    grpcCode <a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/">codes</a>.<a href="http://localhost:6161/pkg/google.golang.org/grpc/codes/#Code">Code</a>,
    defaultMessage <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
) *<a href="godoc.3.html#SentinelError">SentinelError</a></pre>
				<p>
NewSentinel creates a new *SentinelError and saves the pointer so it can be altered /
offset later.
</p>

				
				
				
			
		
			
			
			<h2 id="TraceInfo">type <a href="http://localhost:6161/src/github.com/peake100/gRPEAKEC-go/pkerr/protogenAliases.go?s=199:234#L1">TraceInfo</a>
				<a class="permalink" href="godoc.3.html#TraceInfo">&#xb6;</a>
				
				
			</h2>
			<p>
TraceInfo is an type alias of protogen.TraceInfo.
</p>

			<pre>type TraceInfo = <a href="godoc.7.html">protogen</a>.<a href="godoc.7.html#TraceInfo">TraceInfo</a></pre>

			

			

			
			
			

			

			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="gRPEAKEC-go.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="godoc.7.html">protogen</a>
					</td>
				
					<td class="pkg-synopsis">
						For internal use.
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.15.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6161/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6161/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
